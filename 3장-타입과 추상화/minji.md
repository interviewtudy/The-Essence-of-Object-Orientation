# 타입과 추상화

## 추상화를 통한 복잡성 극복

- 추상화: 어떤 양상, 세부 사항, 구조를 좀 더 명확하게 이해하기 위해 특정 절차나 물체를 의도적으로 생략하거나 감춤으로써 복잡도를 극복하는 방법
- 추상화 단계
  - 구체적인 사물들 간의 공통점은 취하고 차이점은 버림
  - 중요한 부분을 강조하기 위해 불필요한 세부 사항을 제거함

## 객체지향과 추상화

### 그룹으로 나누어 단순화하기

- 공통적인 특성을 기준으로 객체를 여러 그룹으로 묶어 동시에 다뤄야 하는 가짓수를 줄임으로써 상황을 단순화

### 개념

- 개념: 공통점을 기반으로 객체를 묶기 위한 그릇
- 개념을 이용하면 객체를 여러 그룹으로 분류(classification)할 수 있음
- 인스턴스(instance): 개념 그룹의 일원이 된 객체

### 개념의 세 가지 관점

- 심볼(symbol): 개념을 가리키는 간략한 이름이나 명칭(ex. 트럼프)
- 내연(intension): 개념의 완전한 정의를 나타내며 내연의 의미를 이용해 객체가 개념에 속하는지 여부를 확인할 수 있음(ex. 몸이 납작하고 두 손과 두 발은 네모 귀퉁이에 달려 있는 등장인물)
- 외연(extension): 개념에 속하는 모든 객체의 집합(set)(ex.정원사, 병사, 신하, 왕자와 공주, 하객으로 참여한 왕과 왕비들...)

### 객체를 분류하기 위한 틀

- 분류: 객체를 특정한 개념의 집합에 포함시키거나 포함시키지 않는 것
- 분류는 추상화를 위한 도구

## 타입

### 타입은 개념이다

- 타입: 개념과 동일

### 데이터 타입

- 타입은 데이터가 어떻게 사용되느냐에 관한 것
  - 연산자: 데이터를 이용해 수행할 수 있는 작업
  - 어떤 데이터에 어떤 연산자를 적용할 수 있느냐가 그 데이터의 타입을 정의
- 타입에 속한 데이터를 메모리에 어떻게 표현하는지는 외부로부터 철저하게 감춰짐
- 데이터 타입은 메모리 안에 저장된 데이터의 종류를 분류하는 데 사용되는 메모리 집합에 관한 메타 데이터
- 데이터에 대한 분류는 암시적으로 어떤 종류의 연산이 해당 데이터에 대해 수행될 수 있는지를 결정

### 객체와 타입

- 객체를 타입에 따라 분류하고 그 타입에 이름을 붙이는 것은 결국 프로그램에서 사용할 새로운 타입을 선언하는 것과 같음
- 객체 != 데이터
- 어떤 객체가 어떤 타입에 속하는지를 결정하는 것은 객체가 수행하는 행동(동일한 행동을 수행할 수 있다면 그 객체들은 동일한 타입으로 분류될 수 있음)
- 객체의 내부적인 표현은 외부로부터 철저하게 감춰짐

### 행동이 우선이다

- 다형성: 동일한 요청에 대해 서로 다른 방식으로 응답할 수 있는 능력
- 동일한 메시지를 다른 방식으로 처리할 수 있기 위해서는 동일한 메시지를 수신할 수 있어야 함 -> 다형적인 객체들은 동일한 타입(또는 타입 계층)에 속하게 됨
- 행동에 따른 객체 분류: 객체가 외부에 제공해야 하는 책임 결정 -> 책임을 수행하는 데 적합한 데이터를 나중에 결정한 후, 데이터를 책임을 수행하는 데 필요한 외부 인터페이스 뒤로 캡슐화

## 타입의 계층

### 일반화/특수화 관계

- 일반화와 특수화는 동시에 일어남
- 일반화/특수화에 있어서도 중요한 것은 객체의 상태가 아닌 객체가 외부에 제공하는 행동
  - 일반적인 타입: 특수한 타입이 가진 모든 행동들 중에서 일부 행동만 가지는 타입
  - 특수한 타입: 일반적인 타입이 가진 모든 타입을 포함하지만 거기에 더해 자신만의 행동을 추가하는 타입

### 슈퍼타입과 서브타입

- 슈퍼타입(Supertype): 일반적인 타입
- 서브타입(Subtype): 특수한 타입
- 어떤 타입을 다른 타입의 서브입이라고 말할 수 있으려면 다른 타입을 대체할 수 있어야 함

## 정적 모델

### 타입의 목적

- 인간의 인지 능력으로는 시간에 따라 동적으로 변하는 객체의 복잡성을 극복하기 너무 어려움 -> 타입은 동적으로 변하는 객체를 정적인 모습으로 다룰 수 있게 해줌

### 그래서 결국 타입은 추상화다

- 타입을 이용하면 객체의 동적인 특성을 추상화할 수 있음

### 동적 모델과 정적 모델

- 스냅샷(객체 다이어그램): 객체가 특정 시점에 구체적으로 어떤 상태를 가지는지
- 동적 모델: 스냅샷처럼 객체가 살아 움직이는 동안 상태가 어떻게 변하고 어떻게 행동하는지를 포착하는 것
- 정적 모델(타입 모델): 객체가 가질 수 있는 모든 상태와 모든 행동을 시간에 독립적으로 표현하는 것

### 클래스

- 타입을 구현하는 가장 보편적인 방법 -> 클래스를 이용하는 것
- 클래스는 타입의 구현 외에도 코드를 재사용하는 용도로도 사용되기 때문에 클래스와 타입을 동일시하지 말아야 함
- 클래스는 타입을 구현하기 위해 프로그래밍 언어에서 제공하는 구현 메커니즘
